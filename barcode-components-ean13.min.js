(function(){class t{static data_to_row_patterns(t){throw Error("static data_to_row_patterns() not implemented")}static get QUIET_ZONE(){throw Error("static get QUIET_ZONE() not implemented")}static get QUIET_ZONE_X(){return this.QUIET_ZONE}static get QUIET_ZONE_Y(){return this.QUIET_ZONE}static get PRESCALE_RATIO_X(){}static get PRESCALE_RATIO_Y(){}static create(...t){return new this(...t)}constructor(t){this.data=t,this.row_patterns=this.constructor.data_to_row_patterns(t),this.raw_width=this.row_patterns[0].length,this.raw_height=this.row_patterns.length}}class e extends t{static data_to_pattern(t){throw Error("static data_to_pattern() not implemented")}static get QUIET_ZONE_Y(){return 0}static get PRESCALE_RATIO_Y(){return.15}static data_to_row_patterns(t){return[this.data_to_pattern(t)]}}class r extends e{static get QUIET_ZONE(){return 11}static get DIGIT_PATTERNS(){return["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"]}static get SIDE_PATTERN(){return"101"}static get MIDDLE_PATTERN(){return"01010"}static right_digit_pattern(t){return this.DIGIT_PATTERNS[t]}static left_odd_digit_pattern(t){return e=this.DIGIT_PATTERNS[t],r={0:"1",1:"0"},e.split("").map(function(t){return r.hasOwnProperty(t)?r[t]:t}).join("");var e,r}static left_even_digit_pattern(t){return this.DIGIT_PATTERNS[t].split("").reverse().join("")}static encode_digits(t,e){return t.split("").map(function(t,r){return{E:this.left_even_digit_pattern,O:this.left_odd_digit_pattern,R:this.right_digit_pattern}[e[r]].call(this,t)},this).join("")}static digit_to_pattern_types(t){return["OOOOOO","OOEOEE","OOEEOE","OOEEEO","OEOOEE","OEEOOE","OEEEOO","OEOEOE","OEOEEO","OEEOEO"][t]}static compute_check_digit(t){return(10-t.split("").reverse().reduce(function(t,e,r){return t+e*(r%2?1:3)},0)%10)%10}static data_to_pattern(t){let e=t.slice(0,12);return t=`${e}${this.compute_check_digit(e)}`,[this.SIDE_PATTERN,this.encode_digits(t.slice(1,7),this.digit_to_pattern_types(t[0])),this.MIDDLE_PATTERN,this.encode_digits(t.slice(7,13),"RRRRRR"),this.SIDE_PATTERN].join("")}}function i(...t){for(value of t)if(null!==value&&void 0!==value&&value==value)return value}class a{static render_with_values(t,e,r,i,a,s,_,n,o,c){throw Error("static render_with_values() not implemented")}static render(t,e){e=i(e,{});let r=t.constructor,a=e.quiet_zone,s=i(e.quiet_zone_x,a,r.QUIET_ZONE_X),_=i(e.quiet_zone_y,a,r.QUIET_ZONE_Y),n=t.raw_width+2*s,o=t.raw_height+2*_,c=i(e.scale,1),h=i(e.scale_x,c),l=i(e.scale_y,c),u=i(e.prescale_ratio_x,r.PRESCALE_RATIO_X),d=i(e.prescale_ratio_y,r.PRESCALE_RATIO_Y),E=i(e.prescale_x,u*o,1),p=i(e.prescale_y,d*n,1),g=Math.round(E*h),O=Math.round(p*l),w=n*g,T=o*O;return this.render_with_values(t.row_patterns,e,g,O,s,_,n,o,w,T)}}class s extends a{static create_element(t,e,...r){throw Error("static create_element() not implemented")}static pattern_to_path_data(t){let e,r,i=[],a=0;for(let s=0;s<=t.length;s++){let _=t[s];_!==e&&("1"===e?(a!==r&&(i.push(`m${r-a},0`),a=r),i.push(`v1h${s-r}v-1z`)):r=s,e=_)}return i.join("")}static row_pattern_to_path_data(t,e){return`M0,${e}${this.pattern_to_path_data(t)}`}static row_patterns_to_path_d(t){return t.map(this.row_pattern_to_path_data,this).join("")}static render_with_values(t,e,r,i,a,s,_,n,o,c){return this.create_element("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${_} ${n}`,width:o,height:c,preserveAspectRatio:"none"},this.create_element("rect",{width:_,height:n,fill:"#fff"}),this.create_element("path",{transform:`translate(${a},${s})`,d:this.row_patterns_to_path_d(t)}))}}class _ extends s{static create_element(t,e,...r){return function(t,e,...r){let[i,a]=t.split("@"),s=a?document.createElementNS(a,i):document.createElement(i);for(let t in e)s.setAttribute(t,e[t]);for(let t of r)s.appendChild(t);return s}(`${t}@http://www.w3.org/2000/svg`,e,...r)}}var n,o;n="ean-13",o=class extends r{static data_to_pattern(t){let e=t.slice(0,12);return t=`${e}${this.compute_check_digit(e)}`,[this.SIDE_PATTERN,this.encode_digits(t.slice(1,7),this.digit_to_pattern_types(t[0])),this.MIDDLE_PATTERN,this.encode_digits(t.slice(7,13),"RRRRRR"),this.SIDE_PATTERN].join("")}},customElements.define(n,class extends HTMLElement{static get observedAttributes(){return["data","quiet_zone","quiet_zone_x","quiet_zone_y","scale","scale_x","scale_y","prescale_ratio_x","prescale_ratio_y","prescale_x","prescale_y"]}constructor(){super(),this.shadow_root=this.attachShadow({mode:"open"})}get_attribute(t){return this.hasAttribute(t)?this.getAttribute(t):null}render(){for(;this.shadow_root.hasChildNodes();)this.shadow_root.removeChild(this.shadow_root.lastChild);let t=this.get_attribute("data");null!==t&&this.shadow_root.appendChild(_.render(o.create(t),{quiet_zone:this.get_attribute("quiet_zone"),quiet_zone_x:this.get_attribute("quiet_zone_x"),quiet_zone_y:this.get_attribute("quiet_zone_y"),scale:this.get_attribute("scale"),scale_x:this.get_attribute("scale_x"),scale_y:this.get_attribute("scale_y"),prescale_ratio_x:this.get_attribute("prescale_ratio_x"),prescale_ratio_y:this.get_attribute("prescale_ratio_y"),prescale_x:this.get_attribute("prescale_x"),prescale_y:this.get_attribute("prescale_y")}))}attributeChangedCallback(t,e,r){r!==e&&this.render()}})}).call(this);

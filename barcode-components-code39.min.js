class Barcode{static data_to_row_patterns(t){throw Error("static data_to_row_patterns() not implemented")}static get QUIET_ZONE(){throw Error("static get QUIET_ZONE() not implemented")}static get QUIET_ZONE_X(){return this.QUIET_ZONE}static get QUIET_ZONE_Y(){return this.QUIET_ZONE}static get PRESCALE_RATIO_X(){}static get PRESCALE_RATIO_Y(){}static create(...t){return new this(...t)}constructor(t){this.data=t,this.row_patterns=this.constructor.data_to_row_patterns(t),this.raw_width=this.row_patterns[0].length,this.raw_height=this.row_patterns.length}}class Barcode_1D extends Barcode{static data_to_pattern(t){throw Error("static data_to_pattern() not implemented")}static get QUIET_ZONE_Y(){return 0}static get PRESCALE_RATIO_Y(){return.15}static data_to_row_patterns(t){return[this.data_to_pattern(t)]}}class Simple_Barcode_1D extends Barcode_1D{static data_to_symbol_ids(t){throw Error("static data_to_symbol_ids() not implemented")}static get SYMBOL_PATTERNS(){throw Error("static get SYMBOL_PATTERNS() not implemented")}static get SYMBOL_SEPARATOR_PATTERN(){return""}static symbol_id_to_symbol_pattern(t){return this.SYMBOL_PATTERNS[t]}static data_to_pattern(t){return this.data_to_symbol_ids(t).map(this.symbol_id_to_symbol_pattern,this).join(this.SYMBOL_SEPARATOR_PATTERN)}constructor(t){super(t),this.pattern=this.row_patterns[0]}}class Code_39 extends Simple_Barcode_1D{static character_to_symbol_id(t){return"1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%".indexOf(t)}static data_to_symbol_ids(t){return`*${t}*`.split("").map(this.character_to_symbol_id,this)}static get SYMBOL_PATTERNS(){return["110100101011","101100101011","110110010101","101001101011","110100110101","101100110101","101001011011","110100101101","101100101101","101001101101","110101001011","101101001011","110110100101","101011001011","110101100101","101101100101","101010011011","110101001101","101101001101","101011001101","110101010011","101101010011","110110101001","101011010011","110101101001","101101101001","101010110011","110101011001","101101011001","101011011001","110010101011","100110101011","110011010101","100101101011","110010110101","100110110101","100101011011","110010101101","100110101101","100101101101","100100100101","100100101001","100101001001","101001001001"]}static get SYMBOL_SEPARATOR_PATTERN(){return"0"}static get QUIET_ZONE(){return 10}}function create_dom_element(t,e,...a){let[r,_]=t.split("@"),s=_?document.createElementNS(_,r):document.createElement(r);for(let t in e)s.setAttribute(t,e[t]);for(child of a)s.appendChild(child);return s}function value_with_default(...t){for(value of t)if(null!==value&&void 0!==value&&value==value)return value}class Barcode_Renderer{static render_with_values(t,e,a,r,_,s,i,o,n,l){throw Error("static render_with_values() not implemented")}static render(t,e){e=value_with_default(e,{});let a=t.constructor,r=e.quiet_zone,_=value_with_default(e.quiet_zone_x,r,a.QUIET_ZONE_X),s=value_with_default(e.quiet_zone_y,r,a.QUIET_ZONE_Y),i=t.raw_width+2*_,o=t.raw_height+2*s,n=value_with_default(e.scale,1),l=value_with_default(e.scale_x,n),c=value_with_default(e.scale_y,n),d=value_with_default(e.prescale_ratio_x,a.PRESCALE_RATIO_X),h=value_with_default(e.prescale_ratio_y,a.PRESCALE_RATIO_Y),u=value_with_default(e.prescale_x,d*o,1),p=value_with_default(e.prescale_y,h*i,1),w=Math.round(u*l),m=Math.round(p*c),E=i*w,g=o*m;return this.render_with_values(t.row_patterns,e,w,m,_,s,i,o,E,g)}}class SVG_Barcode_Renderer extends Barcode_Renderer{static create_element(t,e,...a){throw Error("static create_element() not implemented")}static pattern_to_path_data(t){let e,a,r=[],_=0;for(let s=0;s<=t.length;s++){let i=t[s];i!==e&&("1"===e?(_!==a&&(r.push(`m${a-_},0`),_=a),r.push(`v1h${s-a}v-1z`)):a=s,e=i)}return r.join("")}static row_pattern_to_path_data(t,e){return`M0,${e}${this.pattern_to_path_data(t)}`}static row_patterns_to_path_d(t){return t.map(this.row_pattern_to_path_data,this).join("")}static render_with_values(t,e,a,r,_,s,i,o,n,l){return this.create_element("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${i} ${o}`,width:n,height:l,preserveAspectRatio:"none"},this.create_element("rect",{width:i,height:o,fill:"#fff"}),this.create_element("path",{transform:`translate(${_},${s})`,d:this.row_patterns_to_path_d(t)}))}}class SVG_Element_Barcode_Renderer extends SVG_Barcode_Renderer{static create_element(t,e,...a){return create_dom_element(`${t}@http://www.w3.org/2000/svg`,e,...a)}}function define_barcode_element(t,e){customElements.define(t,class extends HTMLElement{static get observedAttributes(){return["data","quiet_zone","quiet_zone_x","quiet_zone_y","scale","scale_x","scale_y","prescale_ratio_x","prescale_ratio_y","prescale_x","prescale_y"]}constructor(){super(),this.shadow_root=this.attachShadow({mode:"open"})}get_attribute(t){return this.hasAttribute(t)?this.getAttribute(t):null}render(){for(;this.shadow_root.hasChildNodes();)this.shadow_root.removeChild(this.shadow_root.lastChild);let t=this.get_attribute("data");null!==t&&this.shadow_root.appendChild(SVG_Element_Barcode_Renderer.render(e.create(t),{quiet_zone:this.get_attribute("quiet_zone"),quiet_zone_x:this.get_attribute("quiet_zone_x"),quiet_zone_y:this.get_attribute("quiet_zone_y"),scale:this.get_attribute("scale"),scale_x:this.get_attribute("scale_x"),scale_y:this.get_attribute("scale_y"),prescale_ratio_x:this.get_attribute("prescale_ratio_x"),prescale_ratio_y:this.get_attribute("prescale_ratio_y"),prescale_x:this.get_attribute("prescale_x"),prescale_y:this.get_attribute("prescale_y")}))}attributeChangedCallback(t,e,a){a!==e&&this.render()}})}define_barcode_element("code-39",Code_39);
